[package]
name = "miniconf"
version = "0.1.0"
authors = ["James Irwin <irwineffect@gmail.com>", "Ryan Summers <ryan.summers@vertigo-designs.com"]
edition = "2018"
license = "MIT"

[dependencies]
derive_miniconf = { path="derive_miniconf" }
serde-json-core = "0.4.0"
serde = { version = "1.0.120", features = ["derive"], default-features = false }
log = "0.4"
heapless = { version = "0.7", features = ["serde"] }
minimq = { version = "0.3", optional = true }

[features]
default = ["mqtt-client"]
mqtt-client = ["minimq"]

[dev-dependencies]
machine = "0.3"
env_logger = "0.9"

# TODO: When https://gitlab.com/chrysn/std-embedded-nal/-/merge_requests/2 lands, update dev
# dependency to latest release of std-embedded-nal
std-embedded-nal = { git = "https://gitlab.com/ryan-summers/std-embedded-nal", rev = "d42c05b7" }
